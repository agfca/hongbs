$('#userJson').bootstrapTable({    url: '/order/?orderStatu=9_3',    method : "GET",    search:true,//搜索框    uniqueId:'id',//主键列    pagination:true,//启用分页    paginationLoop:false,//页码循环    sidePagination:'client',//客户端分页    pageSize:10,    pageList:[5,10,15,20],    //sortName:'id',//自定义排序列    //sortOrder:'desc',//倒序    showColumns:true,//选择显示columns    //detailView:true,//详细页面模式    toolbar:'#toolbar',//指定工具栏    undefinedText:'-',//undefined时显示字符    smartDisplay:true,//智能切换视图    maintainSelected:true,//切换页面记录选中的按钮    //singleSelect:true,//禁止多选    clickToSelect:true,//点击行时选中    //cardView:true,//手机端视图    //showPaginationSwitch:true,    //showHeader:true,//显示表头    //showFooter:true,//显示表尾    selectItemName:'btSelectItem',//	radio or checkbox 的字段名    detailView:true,//显示子父表    //处理数据返回    responseHandler: function(result) {        return result;    },    columns: [{        field: 'orderName',        title: '订单名称',    }, {        field: 'oddNum',        title: '单号'    }, {        field: 'partyA',        title: '甲方'    }, {        field: 'userName',        title: '销售'    }, {        field: 'fileName',        title: '下单人'    }, {        field: 'orderTime',        title: '下单时间'    }, {        field: 'orderStatu',        title: '订单状态',        formatter: function (value, row, index) {            var htmlStr;            if(value=="9_1")                htmlStr="生产中";            return htmlStr;        }    }, {        field: 'deliveryTime',        title: '交货时间'    }, {        field: 'remark',        title: '备注'    }, {        field: 'id',        title: '操作',        formatter:function (value, row, index){            var htmlStr ="<button type='button' class='btn-sm' onclick=\"putOrder('"+row.id+"')\">生产完成</button>";            return htmlStr;//获取按钮        }    }],    //注册加载子表的事件。注意下这里的三个参数！    onExpandRow: function (index, row, $detail) {        childTable(index, row, $detail);    },});//订单配置表  子表var childTable = function (index, row, $detail) {    var orderId = row.id;    cur_table = $detail.html('<table></table>').find('table');    $(cur_table).bootstrapTable({        url: 'order/infos/'+orderId,        method: 'get',        //处理数据返回        responseHandler: function(result) {            return result;        },        columns: [{            field: 'orderid',            title: "序号",            formatter: function (value, row, index) {                return index+1;            }        }, {            field: 'infoName',            title: '配置名称',        }, {            field: 'fabric',            title: '面料',            formatter: function (value, row, index) {                var tempHtml = "";                var fabricArr = eval(value);                if(fabricArr!=null&&fabricArr.length>0){                    for(var i = 0; i<fabricArr.length; i++){                        tempHtml += fabricArr[i].name +":"+ fabricArr[i].color+"，&nbsp;";                    }                }                return tempHtml;            }        }, {            field: 'style',            title: '款式'        }, {            field: 'gongyi',            title: '工艺'        }, {            field: 'giveKH',            title: '客户有无样衣'        }, {            field: 'containFabric',            title: '含量'        }, {            field: 'logoStation',            title: '校徽位置'        }, {            field: 'total',            title: '总数'        }, {            field: 'id',            title: '操作',            formatter:function (value, row, index) {                var strTemp = "<button type='button' class='btn btn-info btn-sm' onclick='findOrderInfo("+value+")'>"                    +"查看详情</button>";                return strTemp;            }        }],    });};/*获取制版文件*/function getFile(orderId,filePath) {    window.open("/word/"+orderId+"/"+filePath);}/*确认生产完成*/function putOrder(orderId) {    layer.msg('确认生产完成？', {        time: 0 //不自动关闭        ,shade:0.01        ,btn: ['提交', '取消']        ,yes: function(index){            layer.close(index);            jQuery.ajax({                url : "/order/"+orderId+"",                type : "PUT",                data : {orderStatu:10},                beforeSend:function(){                    index = layer.msg('提交中...', {icon: 16,time: 20000,shade:0.01});                },                success : function(data) {                    layer.close(index);                    layer.msg(data);                    $("#userJson").bootstrapTable('refresh');                },                error : function(data) {                    layer.msg(data.status);                    //$( '#serverResponse').html(data.status + " : " + data.statusText + " : " + data.responseText);                }            });        }    });}/*查看详情*/function findOrderInfo(infoId){    window.open('/orderDetail/info/'+infoId);}